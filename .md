```mermaid

graph TD
    %% 1. Input Section
    A[User Query] --> B[Main Chain]
    
    %% 2. Orchestrator Section
    subgraph Orchestrator [movie_graph_search_orchestrator]
        B --> C{1. Vector Search}
        C -- "유사 문서 검색" --> D[(Neo4j Vector Index)]
        D -- "Found Movie Titles" --> E{2. Graph Search 1}
        
        E -- "Cypher Query: Movie Info & Actor IDs" --> F[(Neo4j Graph DB)]
        F -- "Movie Data + Actor IDs" --> G{3. Graph Search 2}
        
        G -- "Cypher Query: Actor Filmography" --> F
        F -- "Other Movies Data" --> H[4. Format Context]
    end
    
    %% 3. LLM Generation Section
    H -- "Enriched Context" --> I[Prompt Template]
    A -- "Original Question" --> I
    I --> J[GPT-4o mini]
    J --> K[Final Answer]

    %% Styles
    style Orchestrator fill:#f9f9f9,stroke:#333,stroke-dasharray: 5 5
    style D fill:#e1f5fe,stroke:#01579b
    style F fill:#e1f5fe,stroke:#01579b
    style J fill:#fff3e0,stroke:#ff6f00

    ```
    